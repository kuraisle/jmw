{
  "hash": "29428bf12e66237e201be064c3b1b3dc",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Meeting the limit of Plotly maps\"\nformat:\n  html:\n    code-fold: true\n    code-summary: \"Show the code\"\ndescription: In trying to make an animated prison map, I've reached one of Plotly's limits\ndate-format: iso\ncategories:\n  - data analysis\n  - prison map\ndate: 2024-03-23\nexecute:\n  freeze: true\n---\n\nPreviously, I have used Plotly to [make a map of UK prisons](prison_map), and [built a data model for how they change over time](spreadsheet_prison_data). I had hoped to be able to combine these, but I think I'll have to change tack to make the animated map I had planned.\n\n## Data extraction\n\nFirst, I need the data. I'm using Plotly's `scatter_mapbox()` to create the map. The plan is to have the colours represent the operator, the size represent the operational capacity, then animate over time. I had a nice little tooltip on the static version of the plot, so it would be nice to include other information like the type of prison on that. This means each row of the table needs to contain:\n\n1. Prison name\n2. Latitude\n3. Longitude\n4. Prison type\n5. Operational capacity\n6. Operator\n7. Date\n\n### SQL\n\nFor my friend to update the data as he finds it, I have a spreadsheet. For my own purposes, however, I have an sqlite database. Partly I'm hoping having it in this format will help protect me from the perils of spreadsheets, partly I want an excuse to use SQL. I've explored SQL through coding problems, but haven't really used it for anything practical.\n\n::: {#dda6daad .cell execution_count=1}\n``` {.python .cell-code}\nimport sqlite3\nimport pandas as pd\nimport itertools\nimport plotly.express as px\n\n# Connect to the database\nconn = sqlite3.connect('data/prisons.db')\n\n# Perform SQL query\nquery = \"\"\"\nSELECT \n    s.latitude, \n    s.longitude, \n    p.prison_name, \n    pt.prison_type, \n    pc.operational_capacity, \n    od.operator, \n    od.start_date AS date \nFROM \n    sites s\nJOIN \n    prisons p ON s.site_id = p.site_id\nJOIN \n    prison_types pt ON p.prison_id = pt.prison_id\nJOIN \n    prison_capacities pc ON p.prison_id = pc.prison_id\nJOIN \n    operator_dates od ON p.prison_id = od.prison_id\nWHERE \n    (pt.prison_type, pc.operational_capacity, od.operator, od.start_date) IN (\n        SELECT DISTINCT \n            prison_type, \n            operational_capacity, \n            operator, \n            operator_dates.start_date \n        FROM \n            prison_types \n        JOIN \n            prison_capacities ON prison_types.prison_id = prison_capacities.prison_id\n        JOIN \n            operator_dates ON prison_types.prison_id = operator_dates.prison_id\n    )\n\"\"\"\n\n# Execute the query\ndf = pd.read_sql_query(query, conn)\nconn.close()\n```\n:::\n\n\nI'm about to go through the SQL query in some detail. If that sounds dreadful, you should probably skip ahead to the next section.\n\nThe basic stuff is at the top. The `SELECT` statement describes the kind of table that plotly needs, with the correct fields. The `FROM` and `JOIN` statements mean we can get all of the data from the tables in the database, using the relationships set up in the data model.\n\nThe interesting part is in the `WHERE` clause. You might notice that the code inside the brackets looks a bit like the overall query. This is a subquery that makes a makes a table with a row for every time there is a new operator for a prison. This works by combining every `DISTINCT` value taken from these tables. This won't do exactly what I want in the end: I'm going to want a new row for every time any of these attributes changes, but it's good enough to start creating this map.\n\n## Data manipulation\n\n### Cleaning\n\nFor some of the values in this table, the dates might be parsed as timestamps. For any dates in the original data, the values will be a four digit integer, as a string. We will tidy these up and initially simply have them as an integer for the year. We also have prisons dating back a long way; for example, the Marshalsea was open from 1373-1842. However, there was not much change back then, so the map is fairly boring early on, and the interesting stuff only comes along in the 20th century, so we can filter out events before then to show a more informative range.\n\n::: {#1777c3f2 .cell execution_count=2}\n``` {.python .cell-code}\ndf.dropna(inplace=True)\ndf['date'] = df['date'].apply(lambda x: x.year if isinstance(x, pd.Timestamp) else int(x))\n\n\ndf_after_1900 = df.loc[df['date'] >=1900]\ndf_after_1900.sort_values('date', inplace=True)\ndf_after_1900.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>latitude</th>\n      <th>longitude</th>\n      <th>prison_name</th>\n      <th>prison_type</th>\n      <th>operational_capacity</th>\n      <th>operator</th>\n      <th>date</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>33</th>\n      <td>51.440556</td>\n      <td>-0.435278</td>\n      <td>HMP/YOI Feltham</td>\n      <td>Closed male Young Offender Institution</td>\n      <td>48</td>\n      <td>His Majesty's Prison Service</td>\n      <td>1910</td>\n    </tr>\n    <tr>\n      <th>71</th>\n      <td>53.635833</td>\n      <td>-1.611667</td>\n      <td>HMP/ YOI New Hall</td>\n      <td>Local adult female prison</td>\n      <td>34</td>\n      <td>His Majesty's Prison Service</td>\n      <td>1933</td>\n    </tr>\n    <tr>\n      <th>73</th>\n      <td>52.941276</td>\n      <td>0.062979</td>\n      <td>HMP North Sea Camp</td>\n      <td>Open adult male prison</td>\n      <td>42</td>\n      <td>His Majesty's Prison Service</td>\n      <td>1935</td>\n    </tr>\n    <tr>\n      <th>48</th>\n      <td>52.051389</td>\n      <td>1.451944</td>\n      <td>HMP/ YOI Hollesley Bay</td>\n      <td>Open adult male prison</td>\n      <td>485</td>\n      <td>His Majesty's Prison Service</td>\n      <td>1938</td>\n    </tr>\n    <tr>\n      <th>82</th>\n      <td>51.686111</td>\n      <td>-2.943333</td>\n      <td>HMP/ YOI Prescoed</td>\n      <td>Open adult male prison</td>\n      <td>252</td>\n      <td>His Majesty's Prison Service</td>\n      <td>1939</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n### Filling in dates\n\nIf we plot this data, you will see a problem.\n\n::: {#53f78d81 .cell execution_count=3}\n``` {.python .cell-code}\ndf_after_1900['date'] = pd.to_datetime(df_after_1900['date'], format='%Y')\nfig = px.scatter_mapbox(\n    df_after_1900,\n    lat = 'latitude',\n    lon = 'longitude',\n    mapbox_style = 'carto-positron',\n    custom_data = ['prison_name', 'operational_capacity', 'operator', 'date'],\n    size = 'operational_capacity',\n    color = 'operator',\n    animation_frame = 'date',\n    animation_group = 'prison_name',\n    width = 800,\n    height = 800,\n    zoom = 4.6,\n)\n\n\n# Update the map center\nfig.update_mapboxes(\n    center_lat = 54,\n    center_lon= -2.5\n)\n\n# Show the figure\nfig.show()\n```\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<div>                            <div id=\"29749467-3139-4e3f-bcef-0c99732e9738\" class=\"plotly-graph-div\" style=\"height:800px; width:800px;\"></div>            <script type=\"text/javascript\">                require([\"plotly\"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById(\"29749467-3139-4e3f-bcef-0c99732e9738\")) {                    Plotly.newPlot(                        \"29749467-3139-4e3f-bcef-0c99732e9738\",                        [{\"customdata\":[[\"HMP\\u002fYOI Feltham\",48,\"His Majesty's Prison Service\",\"1910-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1910-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP\\u002fYOI Feltham\"],\"lat\":[51.4405555555556],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-0.435277777777778],\"marker\":{\"color\":\"#636efa\",\"size\":[48],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],                        {\"template\":{\"data\":{\"histogram2dcontour\":[{\"type\":\"histogram2dcontour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"choropleth\":[{\"type\":\"choropleth\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"histogram2d\":[{\"type\":\"histogram2d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmap\":[{\"type\":\"heatmap\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"heatmapgl\":[{\"type\":\"heatmapgl\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"contourcarpet\":[{\"type\":\"contourcarpet\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"contour\":[{\"type\":\"contour\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"surface\":[{\"type\":\"surface\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"},\"colorscale\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]]}],\"mesh3d\":[{\"type\":\"mesh3d\",\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}],\"scatter\":[{\"fillpattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2},\"type\":\"scatter\"}],\"parcoords\":[{\"type\":\"parcoords\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolargl\":[{\"type\":\"scatterpolargl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"bar\":[{\"error_x\":{\"color\":\"#2a3f5f\"},\"error_y\":{\"color\":\"#2a3f5f\"},\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"bar\"}],\"scattergeo\":[{\"type\":\"scattergeo\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterpolar\":[{\"type\":\"scatterpolar\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"histogram\":[{\"marker\":{\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"histogram\"}],\"scattergl\":[{\"type\":\"scattergl\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatter3d\":[{\"type\":\"scatter3d\",\"line\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattermapbox\":[{\"type\":\"scattermapbox\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scatterternary\":[{\"type\":\"scatterternary\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"scattercarpet\":[{\"type\":\"scattercarpet\",\"marker\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}}}],\"carpet\":[{\"aaxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"baxis\":{\"endlinecolor\":\"#2a3f5f\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"minorgridcolor\":\"white\",\"startlinecolor\":\"#2a3f5f\"},\"type\":\"carpet\"}],\"table\":[{\"cells\":{\"fill\":{\"color\":\"#EBF0F8\"},\"line\":{\"color\":\"white\"}},\"header\":{\"fill\":{\"color\":\"#C8D4E3\"},\"line\":{\"color\":\"white\"}},\"type\":\"table\"}],\"barpolar\":[{\"marker\":{\"line\":{\"color\":\"#E5ECF6\",\"width\":0.5},\"pattern\":{\"fillmode\":\"overlay\",\"size\":10,\"solidity\":0.2}},\"type\":\"barpolar\"}],\"pie\":[{\"automargin\":true,\"type\":\"pie\"}]},\"layout\":{\"autotypenumbers\":\"strict\",\"colorway\":[\"#636efa\",\"#EF553B\",\"#00cc96\",\"#ab63fa\",\"#FFA15A\",\"#19d3f3\",\"#FF6692\",\"#B6E880\",\"#FF97FF\",\"#FECB52\"],\"font\":{\"color\":\"#2a3f5f\"},\"hovermode\":\"closest\",\"hoverlabel\":{\"align\":\"left\"},\"paper_bgcolor\":\"white\",\"plot_bgcolor\":\"#E5ECF6\",\"polar\":{\"bgcolor\":\"#E5ECF6\",\"angularaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"radialaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"ternary\":{\"bgcolor\":\"#E5ECF6\",\"aaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"baxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"},\"caxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\"}},\"coloraxis\":{\"colorbar\":{\"outlinewidth\":0,\"ticks\":\"\"}},\"colorscale\":{\"sequential\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"sequentialminus\":[[0.0,\"#0d0887\"],[0.1111111111111111,\"#46039f\"],[0.2222222222222222,\"#7201a8\"],[0.3333333333333333,\"#9c179e\"],[0.4444444444444444,\"#bd3786\"],[0.5555555555555556,\"#d8576b\"],[0.6666666666666666,\"#ed7953\"],[0.7777777777777778,\"#fb9f3a\"],[0.8888888888888888,\"#fdca26\"],[1.0,\"#f0f921\"]],\"diverging\":[[0,\"#8e0152\"],[0.1,\"#c51b7d\"],[0.2,\"#de77ae\"],[0.3,\"#f1b6da\"],[0.4,\"#fde0ef\"],[0.5,\"#f7f7f7\"],[0.6,\"#e6f5d0\"],[0.7,\"#b8e186\"],[0.8,\"#7fbc41\"],[0.9,\"#4d9221\"],[1,\"#276419\"]]},\"xaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"yaxis\":{\"gridcolor\":\"white\",\"linecolor\":\"white\",\"ticks\":\"\",\"title\":{\"standoff\":15},\"zerolinecolor\":\"white\",\"automargin\":true,\"zerolinewidth\":2},\"scene\":{\"xaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"yaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2},\"zaxis\":{\"backgroundcolor\":\"#E5ECF6\",\"gridcolor\":\"white\",\"linecolor\":\"white\",\"showbackground\":true,\"ticks\":\"\",\"zerolinecolor\":\"white\",\"gridwidth\":2}},\"shapedefaults\":{\"line\":{\"color\":\"#2a3f5f\"}},\"annotationdefaults\":{\"arrowcolor\":\"#2a3f5f\",\"arrowhead\":0,\"arrowwidth\":1},\"geo\":{\"bgcolor\":\"white\",\"landcolor\":\"#E5ECF6\",\"subunitcolor\":\"white\",\"showland\":true,\"showlakes\":true,\"lakecolor\":\"white\"},\"title\":{\"x\":0.05},\"mapbox\":{\"style\":\"light\"},\"margin\":{\"b\":0,\"l\":0,\"r\":0,\"t\":30}}},\"mapbox\":{\"domain\":{\"x\":[0.0,1.0],\"y\":[0.0,1.0]},\"center\":{\"lat\":54,\"lon\":-2.5},\"zoom\":4.6,\"style\":\"carto-positron\"},\"legend\":{\"title\":{\"text\":\"operator\"},\"tracegroupgap\":0,\"itemsizing\":\"constant\"},\"height\":800,\"width\":800,\"updatemenus\":[{\"buttons\":[{\"args\":[null,{\"frame\":{\"duration\":500,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":500,\"easing\":\"linear\"}}],\"label\":\"&#9654;\",\"method\":\"animate\"},{\"args\":[[null],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"&#9724;\",\"method\":\"animate\"}],\"direction\":\"left\",\"pad\":{\"r\":10,\"t\":70},\"showactive\":false,\"type\":\"buttons\",\"x\":0.1,\"xanchor\":\"right\",\"y\":0,\"yanchor\":\"top\"}],\"sliders\":[{\"active\":0,\"currentvalue\":{\"prefix\":\"date=\"},\"len\":0.9,\"pad\":{\"b\":10,\"t\":60},\"steps\":[{\"args\":[[\"1910-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1910-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1933-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1933-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1935-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1935-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1938-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1938-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1939-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1939-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1946-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1946-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1947-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1947-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1948-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1948-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1949-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1949-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1950-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1950-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1953-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1953-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1956-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1956-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1957-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1957-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1958-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1958-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1960-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1960-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1961-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1961-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1962-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1962-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1963-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1963-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1964-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1964-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1965-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1965-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1966-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1966-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1967-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1967-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1968-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1968-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1969-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1969-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1971-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1971-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1972-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1972-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1973-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1973-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1974-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1974-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1976-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1976-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1978-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1978-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1979-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1979-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1982-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1982-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1983-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1983-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1985-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1985-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1987-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1987-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1988-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1988-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1989-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1989-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1991-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1991-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1992-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1992-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1993-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1993-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1994-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1994-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1995-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1995-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1996-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1996-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1997-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1997-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1998-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1998-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"1999-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"1999-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"2000-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"2000-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"2001-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"2001-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"2004-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"2004-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"2005-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"2005-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"2007-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"2007-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"2008-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"2008-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"2009-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"2009-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"2010-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"2010-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"2012-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"2012-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"2017-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"2017-01-01 00:00:00\",\"method\":\"animate\"},{\"args\":[[\"2022-01-01 00:00:00\"],{\"frame\":{\"duration\":0,\"redraw\":true},\"mode\":\"immediate\",\"fromcurrent\":true,\"transition\":{\"duration\":0,\"easing\":\"linear\"}}],\"label\":\"2022-01-01 00:00:00\",\"method\":\"animate\"}],\"x\":0.1,\"xanchor\":\"left\",\"y\":0,\"yanchor\":\"top\"}]},                        {\"responsive\": true}                    ).then(function(){\n                            Plotly.addFrames('29749467-3139-4e3f-bcef-0c99732e9738', [{\"data\":[{\"customdata\":[[\"HMP\\u002fYOI Feltham\",48,\"His Majesty's Prison Service\",\"1910-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1910-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP\\u002fYOI Feltham\"],\"lat\":[51.4405555555556],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-0.435277777777778],\"marker\":{\"color\":\"#636efa\",\"size\":[48],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1910-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP\\u002f YOI New Hall\",34,\"His Majesty's Prison Service\",\"1933-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1933-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP\\u002f YOI New Hall\"],\"lat\":[53.6358333333333],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-1.61166666666667],\"marker\":{\"color\":\"#636efa\",\"size\":[34],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1933-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP North Sea Camp\",42,\"His Majesty's Prison Service\",\"1935-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1935-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP North Sea Camp\"],\"lat\":[52.9412762560217],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[0.0629787243209966],\"marker\":{\"color\":\"#636efa\",\"size\":[42],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1935-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP\\u002f YOI Hollesley Bay\",485,\"His Majesty's Prison Service\",\"1938-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1938-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP\\u002f YOI Hollesley Bay\"],\"lat\":[52.0513888888889],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[1.45194444444444],\"marker\":{\"color\":\"#636efa\",\"size\":[485],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1938-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP\\u002f YOI Prescoed\",252,\"His Majesty's Prison Service\",\"1939-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1939-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP\\u002f YOI Prescoed\"],\"lat\":[51.6861111111111],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-2.94333333333333],\"marker\":{\"color\":\"#636efa\",\"size\":[252],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1939-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMYOI Huntercombe\",48,\"His Majesty's Prison Service\",\"1946-01-01T00:00:00\"],[\"HMP Leyhill\",515,\"His Majesty's Prison Service\",\"1946-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1946-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMYOI Huntercombe\",\"HMP Leyhill\"],\"lat\":[51.5875,51.6283333333333],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-1.01833333333333,-2.43888888888889],\"marker\":{\"color\":\"#636efa\",\"size\":[48,515],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"},{\"customdata\":[[\"HMP\\u002f YOI East Sutton Park\",96,\"Ministry of Justice, \",\"1946-01-01T00:00:00\"]],\"hovertemplate\":\"operator=Ministry of Justice, \\u003cbr\\u003edate=1946-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP\\u002f YOI East Sutton Park\"],\"lat\":[51.2152777777778],\"legendgroup\":\"Ministry of Justice, \",\"lon\":[0.615833333333333],\"marker\":{\"color\":\"#EF553B\",\"size\":[96],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"Ministry of Justice, \",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1946-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP\\u002f YOI Askham Grange\",128,\"His Majesty's Prison Service\",\"1947-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1947-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP\\u002f YOI Askham Grange\"],\"lat\":[53.9258333333333],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-1.18444444444444],\"marker\":{\"color\":\"#636efa\",\"size\":[128],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1947-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Sudbury\",564,\"His Majesty's Prison Service\",\"1948-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1948-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Sudbury\"],\"lat\":[52.8941666666667],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-1.76527777777778],\"marker\":{\"color\":\"#636efa\",\"size\":[564],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1948-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP The Verne \",58,\"His Majesty's Prison Service\",\"1949-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1949-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP The Verne \"],\"lat\":[50.5622222222222],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-2.43583333333333],\"marker\":{\"color\":\"#636efa\",\"size\":[58],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1949-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMYOI Hatfield\",35,\"His Majesty's Prison Service\",\"1950-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1950-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMYOI Hatfield\"],\"lat\":[53.5866666666667],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-0.981388888888889],\"marker\":{\"color\":\"#636efa\",\"size\":[35],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1950-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP\\u002fYOI Foston Hall\",296,\"His Majesty's Prison Service\",\"1953-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1953-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP\\u002fYOI Foston Hall\"],\"lat\":[52.8825],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-1.72527777777778],\"marker\":{\"color\":\"#636efa\",\"size\":[296],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1953-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP\\u002f YOI Drake Hall\",321,\"His Majesty's Prison Service\",\"1956-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1956-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP\\u002f YOI Drake Hall\"],\"lat\":[52.8788888888889],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-2.24138888888889],\"marker\":{\"color\":\"#636efa\",\"size\":[321],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1956-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMYOI Werrington\",118,\"His Majesty's Prison Service\",\"1957-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1957-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMYOI Werrington\"],\"lat\":[53.0227777777778],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-2.08722222222222],\"marker\":{\"color\":\"#636efa\",\"size\":[118],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1957-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Humber\",968,\"His Majesty's Prison Service\",\"1958-01-01T00:00:00\"],[\"HMYOI Wetherby\",266,\"His Majesty's Prison Service\",\"1958-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1958-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Humber\",\"HMYOI Wetherby\"],\"lat\":[53.7694444444444,53.9355555555556],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-0.641111111111111,-1.36805555555556],\"marker\":{\"color\":\"#636efa\",\"size\":[968,266],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1958-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Erlestoke\",444,\"His Majesty's Prison Service\",\"1960-01-01T00:00:00\"],[\"HMP\\u002f YOI Guys Marsh\",466,\"His Majesty's Prison Service\",\"1960-01-01T00:00:00\"],[\"HMP Ford\",448,\"His Majesty's Prison Service\",\"1960-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1960-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Erlestoke\",\"HMP\\u002f YOI Guys Marsh\",\"HMP Ford\"],\"lat\":[51.2838888888889,50.9847222222222,50.8158333333333],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-2.04472222222222,-2.21972222222222,-0.5775],\"marker\":{\"color\":\"#636efa\",\"size\":[444,466,448],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1960-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMYOI Hindley\",59,\"His Majesty's Prison Service\",\"1961-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1961-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMYOI Hindley\"],\"lat\":[53.5177777777778],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-2.57694444444444],\"marker\":{\"color\":\"#636efa\",\"size\":[59],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1961-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Kirklevington Grange\",163,\"His Majesty's Prison Service\",\"1962-01-01T00:00:00\"],[\"HMP Send\",262,\"His Majesty's Prison Service\",\"1962-01-01T00:00:00\"],[\"HMP Kirkham\",533,\"His Majesty's Prison Service\",\"1962-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1962-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Kirklevington Grange\",\"HMP Send\",\"HMP Kirkham\"],\"lat\":[54.495,51.2730555555556,53.775],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-1.33972222222222,-0.490555555555556,-2.87333333333333],\"marker\":{\"color\":\"#636efa\",\"size\":[163,262,533],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1962-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMYOI Swinfen Hall\",624,\"His Majesty's Prison Service\",\"1963-01-01T00:00:00\"],[\"HMP \\u002f YOI Styal\",38,\"His Majesty's Prison Service\",\"1963-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1963-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMYOI Swinfen Hall\",\"HMP \\u002f YOI Styal\"],\"lat\":[52.6527777777778,53.3402777777778],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-1.80527777777778,-2.23916666666667],\"marker\":{\"color\":\"#636efa\",\"size\":[624,38],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1963-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMYOI Stoke Heath\",767,\"His Majesty's Prison Service\",\"1964-01-01T00:00:00\"],[\"HMP Risley\",111,\"His Majesty's Prison Service\",\"1964-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1964-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMYOI Stoke Heath\",\"HMP Risley\"],\"lat\":[52.8691666666667,53.4383333333333],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-2.52361111111111,-2.52388888888889],\"marker\":{\"color\":\"#636efa\",\"size\":[767,111],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1964-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Low Newton\",37,\"His Majesty's Prison Service\",\"1965-01-01T00:00:00\"],[\"HMP Gartree\",648,\"His Majesty's Prison Service\",\"1965-01-01T00:00:00\"],[\"HMP Wealstun\",89,\"His Majesty's Prison Service\",\"1965-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1965-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Low Newton\",\"HMP Gartree\",\"HMP Wealstun\"],\"lat\":[54.8058042277109,52.4961111111111,53.9141666666667],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-1.55662030308198,-0.960833333333333,-1.33111111111111],\"marker\":{\"color\":\"#636efa\",\"size\":[37,648,89],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1965-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Whatton\",841,\"His Majesty's Prison Service\",\"1966-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1966-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Whatton\"],\"lat\":[52.9472222222222],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-0.911666666666667],\"marker\":{\"color\":\"#636efa\",\"size\":[841],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1966-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Haverigg\",311,\"His Majesty's Prison Service\",\"1967-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1967-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Haverigg\"],\"lat\":[54.2002777777778],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-3.31361111111111],\"marker\":{\"color\":\"#636efa\",\"size\":[311],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1967-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Onley\",742,\"His Majesty's Prison Service\",\"1968-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1968-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Onley\"],\"lat\":[52.3280555555556],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-1.24694444444444],\"marker\":{\"color\":\"#636efa\",\"size\":[742],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1968-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Coldingley\",456,\"His Majesty's Prison Service\",\"1969-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1969-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Coldingley\"],\"lat\":[51.3225],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-0.641944444444444],\"marker\":{\"color\":\"#636efa\",\"size\":[456],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1969-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Long Lartin\",67,\"His Majesty's Prison Service\",\"1971-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1971-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Long Lartin\"],\"lat\":[52.1083333333333],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-1.85361111111111],\"marker\":{\"color\":\"#636efa\",\"size\":[67],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1971-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Ranby\",132,\"His Majesty's Prison Service\",\"1972-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1972-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Ranby\"],\"lat\":[53.3213888888889],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-0.998333333333333],\"marker\":{\"color\":\"#636efa\",\"size\":[132],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"},{\"customdata\":[[\"HMP Northumberland\",1368,\"Sodexo\",\"1972-01-01T00:00:00\"]],\"hovertemplate\":\"operator=Sodexo\\u003cbr\\u003edate=1972-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Northumberland\"],\"lat\":[55.2961111111111],\"legendgroup\":\"Sodexo\",\"lon\":[-1.63444444444444],\"marker\":{\"color\":\"#00cc96\",\"size\":[1368],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"Sodexo\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1972-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMYOI Deerbolt\",337,\"His Majesty's Prison Service\",\"1973-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1973-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMYOI Deerbolt\"],\"lat\":[54.5425],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-1.93805555555556],\"marker\":{\"color\":\"#636efa\",\"size\":[337],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1973-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Channings Wood\",712,\"His Majesty's Prison Service\",\"1974-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1974-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Channings Wood\"],\"lat\":[50.5116666666667],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-3.65277777777778],\"marker\":{\"color\":\"#636efa\",\"size\":[712],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1974-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Featherstone\",668,\"His Majesty's Prison Service\",\"1976-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1976-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Featherstone\"],\"lat\":[52.65],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-2.11166666666667],\"marker\":{\"color\":\"#636efa\",\"size\":[668],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1976-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Cookham Wood\",188,\"His Majesty's Prison Service\",\"1978-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1978-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Cookham Wood\"],\"lat\":[51.3641666666667],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[0.494166666666667],\"marker\":{\"color\":\"#636efa\",\"size\":[188],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1978-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Wymott\",12,\"His Majesty's Prison Service\",\"1979-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1979-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Wymott\"],\"lat\":[53.6783333333333],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-2.75027777777778],\"marker\":{\"color\":\"#636efa\",\"size\":[12],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1979-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMYOI Warren Hill\",258,\"His Majesty's Prison Service\",\"1982-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1982-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMYOI Warren Hill\"],\"lat\":[52.0497222222222],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[1.44944444444444],\"marker\":{\"color\":\"#636efa\",\"size\":[258],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1982-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Frankland\",852,\"His Majesty's Prison Service\",\"1983-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1983-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Frankland\"],\"lat\":[54.8052777777778],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-1.55111111111111],\"marker\":{\"color\":\"#636efa\",\"size\":[852],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1983-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Stocken\",144,\"His Majesty's Prison Service\",\"1985-01-01T00:00:00\"],[\"HMP Lindholme\",939,\"His Majesty's Prison Service\",\"1985-01-01T00:00:00\"],[\"HMYOI Thorn Cross\",325,\"His Majesty's Prison Service\",\"1985-01-01T00:00:00\"],[\"HMP Wayland\",9,\"His Majesty's Prison Service\",\"1985-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1985-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Stocken\",\"HMP Lindholme\",\"HMYOI Thorn Cross\",\"HMP Wayland\"],\"lat\":[52.7472222222222,53.5333333333333,53.3502777777778,52.5538888888889],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-0.580277777777778,-0.966666666666667,-2.54083333333333,0.858055555555556],\"marker\":{\"color\":\"#636efa\",\"size\":[144,939,325,9],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1985-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Full Sutton\",586,\"His Majesty's Prison Service\",\"1987-01-01T00:00:00\"],[\"HMP The Mount\",128,\"His Majesty's Prison Service\",\"1987-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1987-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Full Sutton\",\"HMP The Mount\"],\"lat\":[53.9833333333333,51.725],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-0.866666666666667,-0.540833333333333],\"marker\":{\"color\":\"#636efa\",\"size\":[586,128],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1987-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Garth\",845,\"His Majesty's Prison Service\",\"1988-01-01T00:00:00\"],[\"HMP Littlehey\",118,\"His Majesty's Prison Service\",\"1988-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1988-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Garth\",\"HMP Littlehey\"],\"lat\":[53.6802777777778,52.2805555555556],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-2.75833333333333,-0.312222222222222],\"marker\":{\"color\":\"#636efa\",\"size\":[845,118],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1988-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Downview\",28,\"His Majesty's Prison Service\",\"1989-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1989-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Downview\"],\"lat\":[51.3383333333333],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-0.188055555555556],\"marker\":{\"color\":\"#636efa\",\"size\":[28],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1989-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Whitemoor\",459,\"His Majesty's Prison Service\",\"1991-01-01T00:00:00\"],[\"HMP Belmarsh\",774,\"His Majesty's Prison Service\",\"1991-01-01T00:00:00\"],[\"HMYOI Brinsford\",577,\"His Majesty's Prison Service\",\"1991-01-01T00:00:00\"],[\"HMP\\u002fYOI Moorland\",16,\"His Majesty's Prison Service\",\"1991-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1991-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Whitemoor\",\"HMP Belmarsh\",\"HMYOI Brinsford\",\"HMP\\u002fYOI Moorland\"],\"lat\":[52.575,51.4963888888889,52.6469444444444,53.5486111111111],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[0.0791666666666667,0.0927777777777778,-2.11,-0.971666666666667],\"marker\":{\"color\":\"#636efa\",\"size\":[459,774,577,16],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1991-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Woodhill\",535,\"His Majesty's Prison Service\",\"1992-01-01T00:00:00\"],[\"HMP Bullingdon\",177,\"His Majesty's Prison Service\",\"1992-01-01T00:00:00\"],[\"HMP Holme House\",1159,\"His Majesty's Prison Service\",\"1992-01-01T00:00:00\"],[\"HMP High Down\",1153,\"His Majesty's Prison Service\",\"1992-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1992-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Woodhill\",\"HMP Bullingdon\",\"HMP Holme House\",\"HMP High Down\"],\"lat\":[52.01503,51.8488888888889,54.5777777777778,51.3355555555556],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-0.80667,-1.09361111111111,-1.29305555555556,-0.189722222222222],\"marker\":{\"color\":\"#636efa\",\"size\":[535,177,1159,1153],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1992-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP \\u002f YOI Lancaster Farms\",56,\"His Majesty's Prison Service\",\"1993-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1993-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP \\u002f YOI Lancaster Farms\"],\"lat\":[54.0530555555556],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-2.77111111111111],\"marker\":{\"color\":\"#636efa\",\"size\":[56],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1993-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP\\u002f YOI Doncaster\",1116,\"Private -Serco\",\"1994-01-01T00:00:00\"]],\"hovertemplate\":\"operator=Private -Serco\\u003cbr\\u003edate=1994-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP\\u002f YOI Doncaster\"],\"lat\":[53.5247222222222],\"legendgroup\":\"Private -Serco\",\"lon\":[-1.14583333333333],\"marker\":{\"color\":\"#ab63fa\",\"size\":[1116],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"Private -Serco\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1994-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Buckley Hall\",459,\"His Majesty's Prison Service\",\"1995-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1995-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Buckley Hall\"],\"lat\":[53.635],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-2.145],\"marker\":{\"color\":\"#636efa\",\"size\":[459],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1995-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP\\u002f YOI Eastwood Park\",435,\"His Majesty's Prison Service\",\"1996-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=1996-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP\\u002f YOI Eastwood Park\"],\"lat\":[51.635],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-2.46833333333333],\"marker\":{\"color\":\"#636efa\",\"size\":[435],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1996-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Altcourse\",1184,\"G4S\",\"1997-01-01T00:00:00\"],[\"HMP\\u002f YOI Parc\",1693,\"G4S\",\"1997-01-01T00:00:00\"]],\"hovertemplate\":\"operator=G4S\\u003cbr\\u003edate=1997-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Altcourse\",\"HMP\\u002f YOI Parc\"],\"lat\":[53.4619444444445,51.5308333333333],\"legendgroup\":\"G4S\",\"lon\":[-2.93555555555556,-3.56083333333333],\"marker\":{\"color\":\"#FFA15A\",\"size\":[1184,1693],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"G4S\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1997-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Lowdham Grange\",888,\"Serco\",\"1998-01-01T00:00:00\"]],\"hovertemplate\":\"operator=Serco\\u003cbr\\u003edate=1998-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Lowdham Grange\"],\"lat\":[53.015],\"legendgroup\":\"Serco\",\"lon\":[-1.04],\"marker\":{\"color\":\"#19d3f3\",\"size\":[888],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"Serco\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1998-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Ashfield\",412,\"Serco\",\"1999-01-01T00:00:00\"]],\"hovertemplate\":\"operator=Serco\\u003cbr\\u003edate=1999-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Ashfield\"],\"lat\":[51.4813888888889],\"legendgroup\":\"Serco\",\"lon\":[-2.43972222222222],\"marker\":{\"color\":\"#19d3f3\",\"size\":[412],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"Serco\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"1999-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP\\u002f YOI Forest Bank\",143,\"Private -Sodexo\",\"2000-01-01T00:00:00\"]],\"hovertemplate\":\"operator=Private -Sodexo\\u003cbr\\u003edate=2000-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP\\u002f YOI Forest Bank\"],\"lat\":[53.5147222222222],\"legendgroup\":\"Private -Sodexo\",\"lon\":[-2.30194444444444],\"marker\":{\"color\":\"#FF6692\",\"size\":[143],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"Private -Sodexo\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"2000-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Rye Hill\",664,\"G4S\",\"2001-01-01T00:00:00\"]],\"hovertemplate\":\"operator=G4S\\u003cbr\\u003edate=2001-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Rye Hill\"],\"lat\":[52.3283333333333],\"legendgroup\":\"G4S\",\"lon\":[-1.2425],\"marker\":{\"color\":\"#FFA15A\",\"size\":[664],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"G4S\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"},{\"customdata\":[[\"HMP Dovegate\",116,\"Serco\",\"2001-01-01T00:00:00\"]],\"hovertemplate\":\"operator=Serco\\u003cbr\\u003edate=2001-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Dovegate\"],\"lat\":[52.8713888888889],\"legendgroup\":\"Serco\",\"lon\":[-1.78083333333333],\"marker\":{\"color\":\"#19d3f3\",\"size\":[116],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"Serco\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"2001-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Bronzefield\",542,\"Private -Sodexo\",\"2004-01-01T00:00:00\"]],\"hovertemplate\":\"operator=Private -Sodexo\\u003cbr\\u003edate=2004-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Bronzefield\"],\"lat\":[51.4327777777778],\"legendgroup\":\"Private -Sodexo\",\"lon\":[-0.484166666666667],\"marker\":{\"color\":\"#FF6692\",\"size\":[542],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"Private -Sodexo\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"2004-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Peterborough\",124,\"Sodexo\",\"2005-01-01T00:00:00\"]],\"hovertemplate\":\"operator=Sodexo\\u003cbr\\u003edate=2005-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Peterborough\"],\"lat\":[52.5863888888889],\"legendgroup\":\"Sodexo\",\"lon\":[-0.26],\"marker\":{\"color\":\"#00cc96\",\"size\":[124],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"Sodexo\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"2005-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Altcourse\",1184,\"Sodexo\",\"2007-01-01T00:00:00\"]],\"hovertemplate\":\"operator=Sodexo\\u003cbr\\u003edate=2007-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Altcourse\"],\"lat\":[53.4619444444445],\"legendgroup\":\"Sodexo\",\"lon\":[-2.93555555555556],\"marker\":{\"color\":\"#00cc96\",\"size\":[1184],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"Sodexo\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"2007-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Hewell\",9,\"His Majesty's Prison Service\",\"2008-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=2008-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Hewell\"],\"lat\":[52.3213888888889],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-1.99305555555556],\"marker\":{\"color\":\"#636efa\",\"size\":[9],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"2008-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Bure\",624,\"His Majesty's Prison Service\",\"2009-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=2009-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Bure\"],\"lat\":[52.7594444444445],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[1.34611111111111],\"marker\":{\"color\":\"#636efa\",\"size\":[624],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"2009-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP\\u002fYOI Isis\",628,\"His Majesty's Prison Service\",\"2010-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=2010-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP\\u002fYOI Isis\"],\"lat\":[51.4941666666667],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[0.0891666666666667],\"marker\":{\"color\":\"#636efa\",\"size\":[628],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"2010-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Oakwood\",216,\"G4S\",\"2012-01-01T00:00:00\"]],\"hovertemplate\":\"operator=G4S\\u003cbr\\u003edate=2012-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Oakwood\"],\"lat\":[52.6466666666667],\"legendgroup\":\"G4S\",\"lon\":[-2.11527777777778],\"marker\":{\"color\":\"#FFA15A\",\"size\":[216],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"G4S\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"},{\"customdata\":[[\"HMP Thameside\",1232,\"Serco\",\"2012-01-01T00:00:00\"]],\"hovertemplate\":\"operator=Serco\\u003cbr\\u003edate=2012-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Thameside\"],\"lat\":[51.4941666666667],\"legendgroup\":\"Serco\",\"lon\":[0.0891666666666667],\"marker\":{\"color\":\"#19d3f3\",\"size\":[1232],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"Serco\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"2012-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Berwyn\",181,\"His Majesty's Prison Service\",\"2017-01-01T00:00:00\"]],\"hovertemplate\":\"operator=His Majesty's Prison Service\\u003cbr\\u003edate=2017-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Berwyn\"],\"lat\":[53.03696],\"legendgroup\":\"His Majesty's Prison Service\",\"lon\":[-2.92733],\"marker\":{\"color\":\"#636efa\",\"size\":[181],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"His Majesty's Prison Service\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"2017-01-01 00:00:00\"},{\"data\":[{\"customdata\":[[\"HMP Five Wells\",168,\"G4S\",\"2022-01-01T00:00:00\"]],\"hovertemplate\":\"operator=G4S\\u003cbr\\u003edate=2022-01-01 00:00:00\\u003cbr\\u003eoperational_capacity=%{marker.size}\\u003cbr\\u003elatitude=%{lat}\\u003cbr\\u003elongitude=%{lon}\\u003cextra\\u003e\\u003c\\u002fextra\\u003e\",\"ids\":[\"HMP Five Wells\"],\"lat\":[52.285],\"legendgroup\":\"G4S\",\"lon\":[-0.691944444444445],\"marker\":{\"color\":\"#FFA15A\",\"size\":[168],\"sizemode\":\"area\",\"sizeref\":4.2325},\"mode\":\"markers\",\"name\":\"G4S\",\"showlegend\":true,\"subplot\":\"mapbox\",\"type\":\"scattermapbox\"}],\"name\":\"2022-01-01 00:00:00\"}]);\n                        }).then(function(){\n                            \nvar gd = document.getElementById('29749467-3139-4e3f-bcef-0c99732e9738');\nvar x = new MutationObserver(function (mutations, observer) {{\n        var display = window.getComputedStyle(gd).display;\n        if (!display || display === 'none') {{\n            console.log([gd, 'removed!']);\n            Plotly.purge(gd);\n            observer.disconnect();\n        }}\n}});\n\n// Listen for the removal of the full notebook cells\nvar notebookContainer = gd.closest('#notebook-container');\nif (notebookContainer) {{\n    x.observe(notebookContainer, {childList: true});\n}}\n\n// Listen for the clearing of the current output cell\nvar outputEl = gd.closest('.output');\nif (outputEl) {{\n    x.observe(outputEl, {childList: true});\n}}\n\n                        })                };                });            </script>        </div>\n```\n:::\n:::\n\n\nPlotly's API requires that you have a row for every entity at every year you want to see it. The current form of the DataFrame is an entry every time an aspect of a prison changes. This is why we only get spots popping up every so often - Plotly thinks that the prisons only exist when things change. This means that for the kind of map I'm after, I'll need to make a row for every year for every prison and fill in the data.\n\n::: {#db4e247c .cell execution_count=4}\n``` {.python .cell-code}\nprison_names = pd.Series(df_after_1900['prison_name'].unique(), name='prison_name')\nprison_names\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```\n0            HMP/YOI Feltham\n1          HMP/ YOI New Hall\n2         HMP North Sea Camp\n3     HMP/ YOI Hollesley Bay\n4          HMP/ YOI Prescoed\n               ...          \n77              HMP/YOI Isis\n78               HMP Oakwood\n79             HMP Thameside\n80                HMP Berwyn\n81            HMP Five Wells\nName: prison_name, Length: 82, dtype: object\n```\n:::\n:::\n\n\n",
    "supporting": [
      "prison_map_move_from_quarto_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n<script type=\"text/javascript\">\nwindow.PlotlyConfig = {MathJaxConfig: 'local'};\nif (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: \"STIX-Web\"}});}\nif (typeof require !== 'undefined') {\nrequire.undef(\"plotly\");\nrequirejs.config({\n    paths: {\n        'plotly': ['https://cdn.plot.ly/plotly-2.27.0.min']\n    }\n});\nrequire(['plotly'], function(Plotly) {\n    window._Plotly = Plotly;\n});\n}\n</script>\n\n"
      ]
    }
  }
}