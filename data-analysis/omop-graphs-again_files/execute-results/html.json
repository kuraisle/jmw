{
  "hash": "bda7306b33666bef3f2810b23b172b78",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: More OMOP graphs\nformat: html\ndescription: Describing OMOP through graphs of its relationships\ndate-format: iso\ndate: 2025-03-25\ncategories:\n  - work projects\n---\n\n\n## Introduction\nI've previously looked at the OMOP vocabularies as [graphs](omop-graph-generator.qmd).\n\n## Relationships\n\n::: {#c92a3de7 .cell execution_count=1}\n``` {.python .cell-code}\nimport psycopg as pg\nfrom os import environ\n\ndb_uri = f\"postgres://{environ['DB_USER']}:{environ['DB_PASSWORD']}@{environ['DB_HOST']}:{environ['DB_PORT']}/{environ['DB_NAME']}\"\n\nwith pg.connect(db_uri) as conn:\n  for relationship in conn.execute(\"\"\"\n  SELECT relationship_id, COUNT(concept_id_1) as count\n  FROM cdm.concept_relationship\n  GROUP BY relationship_id\n  ORDER BY count DESC;\n  \"\"\").fetchall():\n    print(relationship)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n('Maps to', 7158761)\n('Mapped from', 7158761)\n('Subsumes', 3346209)\n('Is a', 3346209)\n('Has marketed form', 2000405)\n('Marketed form of', 2000405)\n('RxNorm dose form of', 1796343)\n('RxNorm has dose form', 1796343)\n('Brand name of', 1473879)\n('Has brand name', 1473879)\n('Has tradename', 1056771)\n('Tradename of', 1056771)\n('RxNorm - SPL', 721281)\n('SPL - RxNorm', 721281)\n('Status of', 631733)\n('Has status', 631733)\n('Has Module', 622996)\n('Module of', 622996)\n('Concept replaced by', 622731)\n('Concept replaces', 622731)\n('Supplier of', 579547)\n('Has supplier', 579547)\n('Value to Schema', 545166)\n('Schema to Value', 545166)\n('Available as box', 506353)\n('Box of', 506353)\n('RxNorm inverse is a', 483314)\n('RxNorm is a', 483314)\n('Constitutes', 437703)\n('Consists of', 437703)\n('Quantified form of', 365378)\n('Has quantified form', 365378)\n('Method of', 293192)\n('Has method', 293192)\n('RxNorm ing of', 279212)\n('RxNorm has ing', 279212)\n('Has finding site', 271423)\n('Finding site of', 271423)\n('Asso morph of', 219356)\n('Has asso morph', 219356)\n('Has dir proc site', 160339)\n('Dir proc site of', 160339)\n('Answer of', 148448)\n('Has Answer', 148448)\n('Component of', 120656)\n('Has component', 120656)\n('RxNorm - ATC', 119953)\n('ATC - RxNorm', 119953)\n('Concept same_as from', 116602)\n('Concept same_as to', 116602)\n('Variable to Schema', 114535)\n('Schema to Variable', 114535)\n('Has property', 107080)\n('Property of', 107080)\n('RxNorm - Source eq', 102438)\n('Source - RxNorm eq', 102438)\n('Has scale type', 99061)\n('Scale type of', 99061)\n('Time aspect of', 98245)\n('Has time aspect', 98245)\n('Has system', 96497)\n('System of', 96497)\n('Has interprets', 91779)\n('Interprets of', 91779)\n('Concept poss_eq to', 84013)\n('Concept poss_eq from', 84013)\n('Drug has drug class', 73844)\n('Drug class of drug', 73844)\n('May treat', 67475)\n('May be treated by', 67475)\n('Transcribes to', 63118)\n('Is transcribed from', 63118)\n('Schema to ICDO', 60203)\n('ICDO to Schema', 60203)\n('Has Histology ICDO', 59914)\n('Histology of ICDO', 59914)\n('Translates to', 59159)\n('Is translated from', 59159)\n('Concept was_a from', 58762)\n('Concept was_a to', 58762)\n('Topography of ICDO', 58438)\n('Has Topography ICDO', 58438)\n('ICDO to Proc Schema', 57279)\n('Proc Schema to ICDO', 57279)\n('Panel contains', 53655)\n('Contained in panel', 53655)\n('Access of', 48371)\n('Has access', 48371)\n('Causative agent of', 44695)\n('Has causative agent', 44695)\n('Part of', 44456)\n('Has part of', 44456)\n('Product comp of', 41469)\n('Has product comp', 41469)\n('CI by', 40884)\n('CI to', 40884)\n('Has dose form group', 40335)\n('Dose form group of', 40335)\n('Has active ing', 40282)\n('Active ing of', 40282)\n('ATC - RxNorm sec up', 39015)\n('RxNorm - ATC sec up', 39015)\n('Physiol effect by', 38640)\n('Has physio effect', 38640)\n('Has pathology', 36804)\n('Pathology of', 36804)\n('Has dose form', 32177)\n('Dose form of', 32177)\n('Occurrence of', 31203)\n('Has occurrence', 31203)\n('Using device', 30528)\n('Device used by', 30528)\n('Interpretation of', 30078)\n('Has interpretation', 30078)\n('Laterality of', 26806)\n('Has laterality', 26806)\n('Proc site of', 26625)\n('Has proc site', 26625)\n('Acc device used by', 26517)\n('Using acc device', 26517)\n('Dir device of', 26226)\n('Has dir device', 26226)\n('Due to of', 26178)\n('Has due to', 26178)\n('NDFRT has ing', 25755)\n('NDFRT ing of', 25755)\n('Subst used by', 25154)\n('Using subst', 25154)\n('Indir proc site of', 24849)\n('Has indir proc site', 24849)\n('Has MoA', 24422)\n('MoA of', 24422)\n('Has intent', 24175)\n('Intent of', 24175)\n('SNOMED - RxNorm eq', 22655)\n('RxNorm - SNOMED eq', 22655)\n('Maps to value', 22061)\n('Value mapped from', 22061)\n('Has drug-drug inter', 21662)\n('Drug-drug inter for', 21662)\n('Dir morph of', 20835)\n('Has dir morph', 20835)\n('Disposition of', 18452)\n('Has disposition', 18452)\n('Contained in', 17575)\n('Contains', 17575)\n('Basis str subst of', 16794)\n('Has basis str subst', 16794)\n('CPT4 - SNOMED cat', 16733)\n('SNOMED cat - CPT4', 16733)\n('Has prec ingredient', 16341)\n('Prec ingredient of', 16341)\n('CPT4 - SNOMED eq', 16199)\n('SNOMED - CPT4 eq', 16199)\n('Has dir subst', 15704)\n('Dir subst of', 15704)\n('RxNorm - VAProd eq', 15312)\n('VAProd - RxNorm eq', 15312)\n('Precise ing of', 14661)\n('Has precise ing', 14661)\n('NDFRT dose form of', 14237)\n('NDFRT has dose form', 14237)\n('Relat context of', 14236)\n('Has relat context', 14236)\n('Has temporal context', 13980)\n('Temporal context of', 13980)\n('ICDO to Chapter', 13246)\n('Chapter to ICDO', 13246)\n('Form of', 12436)\n('Has form', 12436)\n('Has Value', 12244)\n('Value of', 12244)\n('Focus of', 11705)\n('Has focus', 11705)\n('Has numerator unit', 10705)\n('Numerator unit of', 10705)\n('Has clinical course', 10503)\n('Clinical course of', 10503)\n('Denominator unit of', 10491)\n('Has denominator unit', 10491)\n('Plays role', 10470)\n('Role played by', 10470)\n('Has unit of presen', 10446)\n('Unit of presen of', 10446)\n('May be prevented by', 9809)\n('May prevent', 9809)\n('Finding method of', 9513)\n('Using finding method', 9513)\n('Revision status of', 9507)\n('Has revision status', 9507)\n('Has PPI parent code', 9496)\n('PPI parent code of', 9496)\n('Followed by', 8047)\n('Follows', 8047)\n('NDFRT - RxNorm eq', 7832)\n('RxNorm - NDFRT eq', 7832)\n('Chem structure of', 7461)\n('Has chem structure', 7461)\n('Asso finding of', 7330)\n('Has asso finding', 7330)\n('Finding context of', 7098)\n('Has finding context', 7098)\n('Asso proc of', 7074)\n('Has asso proc', 7074)\n('Has proc context', 6894)\n('Proc context of', 6894)\n('Has answer (PPI)', 6635)\n('Answer of (PPI)', 6635)\n('Specimen of', 6515)\n('Has specimen', 6515)\n('Inheres in', 6348)\n('Has inherent', 6348)\n('Count of ing of', 5768)\n('Has count of ing', 5768)\n('Has accepted use', 5616)\n('Accepted use of', 5616)\n('Numerator value of', 5585)\n('Has numerator value', 5585)\n('ATC - RxNorm pr lat', 5380)\n('RxNorm - ATC pr lat', 5380)\n('Contained in version', 5108)\n('Version contains', 5108)\n('Has Category', 4977)\n('Category of', 4977)\n('Has denomin value', 4917)\n('Denom value of', 4917)\n('Conc num unit of', 4876)\n('Has conc num unit', 4876)\n('Has conc denom unit', 4764)\n('Conc denom unit of', 4764)\n('Using finding inform', 4419)\n('Finding inform of', 4419)\n('Has direct site', 4267)\n('Direct site of', 4267)\n('ATC - RxNorm pr up', 4230)\n('RxNorm - ATC pr up', 4230)\n('Finding asso with', 4131)\n('Asso with finding', 4131)\n('Modification of', 3956)\n('Has modification', 3956)\n('Modality of', 3946)\n('Has modality', 3946)\n('Has cytotoxic chemo', 3894)\n('Cytotoxic chemo of', 3894)\n('Has cytotox chemo Rx', 3893)\n('Cytotox chemo RX of', 3893)\n('Has kind', 3647)\n('Kind of', 3647)\n('Occurs before', 3616)\n('Occurs after', 3616)\n('Ind/CI - SNOMED', 3567)\n('SNOMED - ind/CI', 3567)\n('Has surgical appr', 3316)\n('Surgical appr of', 3316)\n('Maps to unit', 3271)\n('Unit mapped from', 3271)\n('Context of', 3102)\n('Has context', 3102)\n('Subject matter of', 3065)\n('Has subject matter', 3065)\n('Has life circumstan', 3009)\n('Life circumstan of', 3009)\n('Has specimen topo', 2962)\n('Specimen topo of', 2962)\n('Chem to Prep eq', 2923)\n('Prep to Chem eq', 2923)\n('Is curr in adult', 2830)\n('Curr adult indic for', 2830)\n('Has parent item', 2804)\n('Parent item of', 2804)\n('Precoord pair of', 2802)\n('Has precoord pair', 2802)\n('Route of', 2798)\n('Has route', 2798)\n('NDFRT - SNOMED eq', 2624)\n('SNOMED - NDFRT eq', 2624)\n('Technique of', 2520)\n('Has technique', 2520)\n('Has type of service', 2497)\n('Type of service of', 2497)\n('Has therap class', 2400)\n('Therap class of', 2400)\n('CI chem class of', 2337)\n('Has CI chem class', 2337)\n('Characterizes', 2300)\n('Is characterized by', 2300)\n('Has specimen subst', 2101)\n('Specimen subst of', 2101)\n('Conc num val of', 2099)\n('Has conc num val', 2099)\n('Has specimen proc', 2032)\n('Specimen proc of', 2032)\n('LOINC - CPT4 eq', 2019)\n('CPT4 - LOINC eq', 2019)\n('Spec active ing of', 2006)\n('Has spec active ing', 2006)\n('ATC - SNOMED eq', 1979)\n('SNOMED - ATC eq', 1979)\n('Conc denom val of', 1933)\n('Has conc denom val', 1933)\n('Category in Chapter', 1816)\n('Chapter has Category', 1816)\n('Disp dose form of', 1813)\n('Has disp dose form', 1813)\n('DOI - RxNorm', 1747)\n('RxNorm - DOI', 1747)\n('Has indir morph', 1651)\n('Indir morph of', 1651)\n('Has dose form unit', 1576)\n('Dose form unit of', 1576)\n('Supportive med of', 1526)\n('Has supportive med', 1526)\n('Using energy', 1474)\n('Energy used by', 1474)\n('Has proc device', 1456)\n('Proc device of', 1456)\n('Has start date', 1422)\n('Start date of', 1422)\n('Has unit of prod use', 1417)\n('Unit of prod use of', 1417)\n('DRG - MDC cat', 1299)\n('MDC cat - DRG', 1299)\n('Rx support med of', 1260)\n('Has support med Rx', 1260)\n('Setting of', 1176)\n('Has setting', 1176)\n('Has inherent loc', 1156)\n('Inherent location of', 1156)\n('Concept alt_to to', 1118)\n('Concept alt_to from', 1118)\n('Diagnosed through', 1085)\n('May diagnose', 1085)\n('Priority of', 990)\n('Has priority', 990)\n('Dev intended site of', 969)\n('Has dev intend site', 969)\n('Has targeted therapy', 928)\n('Targeted therapy of', 928)\n('Rx targeted tx of', 928)\n('Has targeted tx Rx', 928)\n('Has CI MoA', 895)\n('CI MoA of', 895)\n('Intended site of', 828)\n('Has intended site', 828)\n('ICDO to OncoTree eq', 816)\n('OncoTree to ICDO eq', 816)\n('PK of', 811)\n('Has PK', 811)\n('Induces', 796)\n('Induced by', 796)\n('Role of', 749)\n('Has role', 749)\n('Release charact of', 728)\n('Has release charact', 728)\n('Has admin method', 723)\n('Admin method of', 723)\n('Basic dose form of', 696)\n('Has basic dose form', 696)\n('Transformation of', 673)\n('Has transformation', 673)\n('CI physiol effect by', 666)\n('Has CI physio effect', 666)\n('SNOMED - HOI', 632)\n('HOI - SNOMED', 632)\n('ATC - RxNorm sec lat', 620)\n('RxNorm - ATC sec lat', 620)\n('Proc morph of', 555)\n('Has proc morph', 555)\n('FDA indication of', 538)\n('Has FDA indication', 538)\n('Has complication', 517)\n('During', 517)\n('Hist adult indic for', 492)\n('Is hist in adult', 492)\n('Permiss range of', 480)\n('Has permiss range', 480)\n('Affected by process', 476)\n('Process acts on', 476)\n('Route of admin of', 474)\n('Has route of admin', 474)\n('CVX - RxNorm', 472)\n('RxNorm - CVX', 472)\n('DRG - MS-DRG eq', 446)\n('MS-DRG - DRG eq', 446)\n('Has steroid tx Rx', 430)\n('Has steroid tx', 430)\n('Steroid tx of', 430)\n('Rx steroid tx of', 430)\n('Relative to', 398)\n('Metabolism of', 398)\n('Has metabolism', 398)\n('Relative to of', 398)\n('Proc duration of', 371)\n('Has proc duration', 371)\n('Comp material of', 347)\n('Has comp material', 347)\n('Prod character of', 341)\n('Has prod character', 341)\n('Has specimen morph', 334)\n('Specimen morph of', 334)\n('Has type', 315)\n('Type of', 315)\n('Has unit', 301)\n('Unit of', 301)\n('Manifestation of', 300)\n('Has manifestation', 300)\n('Recipient cat of', 280)\n('Has recipient cat', 280)\n('Is sterile', 255)\n('Is sterile of', 255)\n('Has vaccine group', 241)\n('Vaccine group of', 241)\n('Has physiol state', 229)\n('Physiol state of', 229)\n('May be route of', 219)\n('May have route', 219)\n('Question source of', 210)\n('Has question source', 210)\n('Local therapy of', 208)\n('Has local therapy', 208)\n('Has endocrine tx', 208)\n('Endocrine tx of', 208)\n('State of matter of', 205)\n('Has state of matter', 205)\n('Has immunosuppressor', 200)\n('Immunosuppressor of', 200)\n('Rx immunosuppr of', 196)\n('Has immunosuppr Rx', 196)\n('Has specimen source', 194)\n('Has local therap Rx', 194)\n('Rx local therapy of', 194)\n('SNOMED - VA Class eq', 194)\n('VA Class - SNOMED eq', 194)\n('Specimen identity of', 194)\n('Has immunotherapy', 183)\n('Immunotherapy of', 183)\n('Had accepted for', 172)\n('Had accepted use', 172)\n('Absorbability of', 171)\n('Has absorbability', 171)\n('Has endocrine tx Rx', 170)\n('Rx endocrine tx of', 170)\n('Indir device of', 160)\n('Has indir device', 160)\n('Rx immunotherapy of', 158)\n('Has immunotherapy Rx', 158)\n('Radiotherapy of', 151)\n('Has radiotherapy', 151)\n('Has variant', 138)\n('Variant of', 138)\n('Has temp finding', 132)\n('Temp related to', 132)\n('Process extends from', 125)\n('Process extends to', 125)\n('FDA labeling of', 114)\n('Has FDA labeling', 114)\n('Has precondition', 100)\n('Precondition of', 100)\n('Is curr in ped', 94)\n('Curr ped indic for', 94)\n('Has antineopl Rx', 80)\n('Rx antineopl of', 80)\n('Process output of', 72)\n('Has process output', 72)\n('Severity of', 71)\n('Has severity', 71)\n('Metabolite of', 65)\n('Has metabolites', 65)\n('Has investig use', 62)\n('Investig use for', 62)\n('ATC to NDFRT eq', 53)\n('NDFRT to ATC eq', 53)\n('OncoTree to ICDO br', 52)\n('ICDO br to OncoTree', 52)\n('Has antineoplastic', 49)\n('Antineoplastic of', 49)\n('Towards', 47)\n('Subject of', 47)\n('VA Class to ATC eq', 46)\n('ATC to VA Class eq', 46)\n('Has AB-drug cjgt', 42)\n('AB-drug cjgt of', 42)\n('Has AB-drug cjgt Rx', 38)\n('Rx AB-drug cjgt of', 38)\n('Coating material of', 35)\n('Has coating material', 35)\n('VA Class to NDFRT eq', 34)\n('NDFRT to VA Class eq', 34)\n('Has measurement', 34)\n('Measurement of', 34)\n('Property type of', 32)\n('Has property type', 32)\n('Has end date', 26)\n('End date of', 26)\n('Has targ population', 19)\n('Targ population of', 19)\n('Has biosimilar', 18)\n('Biosimilar of', 18)\n('Rx radiotherapy of', 15)\n('Has radiotherapy Rx', 15)\n('Unit of admin of', 13)\n('May be inhibited by', 13)\n('Has unit of admin', 13)\n('Inhibits effect', 13)\n('Has radioconjugate', 11)\n('Has count of act ing', 11)\n('Radioconjugate of', 11)\n('Rx radiocjgt of', 11)\n('Count of act ing in', 11)\n('Has radiocjgt Rx', 11)\n('Episodicity of', 10)\n('Has episodicity', 10)\n('Has sub-specimen', 8)\n('Sub-specimen of', 8)\n('Has relative part', 8)\n('Relative part of', 8)\n('RxNorm - NDFRT name', 7)\n('Has filling', 7)\n('NDFRT - RxNorm name', 7)\n('Filling of', 7)\n('Has strength', 6)\n('Strength of', 6)\n('Has stage', 6)\n('Stage of', 6)\n('Surf character of', 4)\n('Has surface texture', 4)\n('Is hist in ped', 4)\n('Surface texture of', 4)\n('Has surface char', 4)\n('Hist ped indic for', 4)\n('Has PDC Rx', 1)\n('Has pept-drg cjg Rx', 1)\n('Rx pept-drg cjg of', 1)\n('Before', 1)\n('Rx PDC of', 1)\n('Has pept-drug cjgt', 1)\n('After', 1)\n('Pept-drug cjgt of', 1)\n```\n:::\n:::\n\n\n",
    "supporting": [
      "omop-graphs-again_files"
    ],
    "filters": [],
    "includes": {}
  }
}